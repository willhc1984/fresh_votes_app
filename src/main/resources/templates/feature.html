<!doctype html>
<html xmlns:th="http://thymeleaf.org">
  <head>
    <title>Fresh Votes</title>
    <div th:replace="fragments/header :: headerElement"></div>
  </head>
  
  <body>  
  	<div th:replace="fragments/header :: navbarElement"></div>
  	
  	<div class="container" style="margin-top: 80px;">
  		
  		<div class="row">
  			<div class="col-12 col-sm-4">
  				<h1>New Feature</h1>  
  			</div>
  			<div class="col-12 col-sm-4">
  			<span class="badge rounded-pill bg-dark" th:text="'User: ' + ${feature.user.getName()}"></span>
  				<span class="badge rounded-pill bg-warning text-dark" th:text="'Status: ' + ${feature.status}"></span>
  			</div>
  		</div>
  		
  		<form action="" method="POST">
	      	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
	      	<input type="hidden" th:field="${feature.id}" />
	      	<input type="hidden" th:field="${feature.product}" />
	      	<input type="hidden" th:field="${feature.status}" />
	      	
	      	
	      	<div class="mb-3">
			  <label for="exampleFormControlInput1" class="form-label">Title</label>
			  <input type="text" class="form-control" th:field="${feature.title}"
			  		th:attrappend="disabled=${user.id == feature.user.id ? null : 'disabled'}" 
			  		id="exampleFormControlInput1" placeholder="Feature title" />
			</div>
			<div class="mb-3">
			  <label for="exampleFormControlInput1" class="form-label">Description</label>
			  <textarea type="text" class="form-control" th:field="${feature.description}" 
			  		th:attrappend="disabled=${user.id == feature.user.id ? null : 'disabled'}"
			  		id="exampleFormControlInput1" placeholder="Feature description"></textarea>
			</div>
			<div th:if="${user.id == feature.user.id}">
				<button class="btn btn-primary" type="submit">Save</button>
			</div>
	    </form>  	  
	    
	    <div>
	    	<h2>Comments:</h2>
	    	<div th:each="comment : ${comments}">
	    		<span th:text="${comment.text}"></span>
	    	</div>
	    </div>
	    
  	</div>
  	
  	<div th:replace="fragments/header :: footerElement"></div>
    
  </body>
</html>